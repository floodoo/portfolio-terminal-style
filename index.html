<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
  <script src="https://unpkg.com/typewriter-effect@latest/dist/core.js"></script>
  <script type="text/javascript">
    sessionStorage.setItem("counter", 0);
  </script>
  <title>Florian Schmitz</title>
</head>

<body>
  <!-- Navbar -->
  <div class="terminal-window">
    <div class="terminal-window-button" style="background-color: #ff5f57"></div>
    <div class="terminal-window-button" style="background-color: #febc30"></div>
    <div class="terminal-window-button" style="background-color: #2bc840"></div>
    <div class="terminal-window-name">florianschmitz@MacBook-Pro:~</div>
  </div>
  <nav>
    <a class="nav-button-active" data-hotkey="Meta+1" href="index.html">
      <ul>
        <li class="nav-button-text">~</li>
        <li>⌘1</li>
      </ul>
    </a>
    <a class="nav-button" data-hotkey="Meta+2" href="about.html">
      <ul>
        <li class="nav-button-text">About</li>
        <li>⌘2</li>
      </ul>
    </a>
    <a class="nav-button" data-hotkey="Meta+3" href="projects.html">
      <ul>
        <li class="nav-button-text">Projects</li>
        <li>⌘3</li>
      </ul>
    </a>
    <a class="nav-button" data-hotkey="Meta+4" href="blog.html">
      <ul>
        <li class="nav-button-text">Blog</li>
        <li>⌘4</li>
      </ul>
    </a>
    <a class="nav-button" data-hotkey="Meta+5" href="contact.html">
      <ul>
        <li class="nav-button-text">Contact</li>
        <li>⌘5</li>
      </ul>
    </a>
  </nav>
  <script>
    document.addEventListener("keydown", (keyboardEvent) => {
      [...document.querySelectorAll(`[data-hotkey]`)].forEach((elem) => {
        const combineKey = elem.dataset.hotkey.split("+");

        for (let myKeyStr of combineKey) {
          myKeyStr = myKeyStr.toUpperCase();

          if (myKeyStr.length > 1) {
            if (myKeyStr === "META" && keyboardEvent.metaKey) {
              continue;
            }
          }
          if (keyboardEvent.key.toUpperCase() !== myKeyStr) {
            return;
          }
        }
        keyboardEvent.preventDefault();
        elem.click();
      });
    });
  </script>
  <!-- End of Navbar -->
  <div style="padding-left: 15px">
    <div class="terminal-text" id="last-login"></div>
    <script>
      document.getElementById(
        "last-login"
      ).innerHTML = `Last login: ${new Date().toLocaleString()} on ttys000`;
    </script>

    <img src="assets/images/terminal-symbol.svg" alt="terminal new line symbol" style="padding-right: 4px" />
    <span class="terminal-text-highlighted">~ </span>
    <span id="typewriter"></span>
    <span id="typewriter-text" style="display: none">
      <span class="terminal-text-highlighted">cd </span>
      <span class="terminal-text">development/portfolio</span>
    </span>
    <script type="text/javascript">
      const typewriter = new Typewriter("#typewriter", {
        loop: false,
        delay: 100,
      });

      typewriter
        .typeString('<span class="terminal-text-highlighted">cd </span>')
        .typeString('<span class="terminal-text">development/portfolio</span>')
        .start();

      setTimeout(function () {
        document.getElementById("line-2").style.display = "block";
        document.getElementById("input-0").focus();

        document.getElementById("typewriter").style = "display: none";
        document.getElementById("typewriter-text").style = "display: inline";
      }, 4000);
    </script>
    <div id="line-2" style="display: none">
      <img src="assets/images/terminal-symbol.svg" alt="terminal new line symbol"
        style="padding-right: 4px; padding-top: 15px" />
      <span class="terminal-text-highlighted">portfolio [</span>
      <span style="color: #60fdff">main</span>
      <span class="terminal-text-highlighted">]</span>
      <span>⚡️</span>
      <input class="input-0" id="input-0" autoComplete="off" placeholder="/help" />
      <script>
        function createElements() {
          var counter = sessionStorage.getItem("counter");
          counter = parseInt(counter);
          var inputWithCounter = `input-${counter + 1}`;

          document.getElementById(`input-${counter}`).addEventListener("keydown", (e) => {
            if (e.key !== "Enter") {
              return;
            }

            var makeBr = true;

            // if input is /help or /help <command> then show help
            if (document.getElementById(`input-${counter}`).value === "/help") {

              const help = document.createElement("p");
              help.innerHTML = `<span class="terminal-text-highlighted">/help</span> - shows this help message<br />`;
              help.innerHTML += `<span class="terminal-text-highlighted">/about</span> - shows information about me (soon)<br />`;
              help.innerHTML += `<span class="terminal-text-highlighted">/projects</span> - shows my projects (soon)<br />`;
              help.innerHTML += `<span class="terminal-text-highlighted">/blog</span> - shows my blog (soon)<br />`;
              help.innerHTML += `<span class="terminal-text-highlighted">/contact</span> - shows my contact informations (soon)<br />`;
              help.innerHTML += `<span class="terminal-text-highlighted">/clear</span> - clears the terminal (soon)<br />`;
              help.innerHTML += `<span class="terminal-text-highlighted">/exit</span> - exits the terminal (soon)`;
              help.className = "terminal-text";
              document.getElementById("line-2").appendChild(help);
              makeBr = false;
            } else {
              document.getElementById("line-2").appendChild(document.createElement("br"));
              const notFound = document.createElement("span");
              notFound.innerHTML = `<span class="terminal-text-highlighted">${document.getElementById(`input-${counter}`).value}</span> - command not found`;
              notFound.className = "terminal-text";
              document.getElementById("line-2").appendChild(notFound);
            }

            const input = document.getElementById(`input-${counter}`).disabled = true;
            if (makeBr) {
              document.getElementById("line-2").appendChild(document.createElement("br"));
            }
            const nextLine = document.createElement("img");
            nextLine.src = "assets/images/terminal-symbol.svg";
            nextLine.style = "padding-right: 4px; padding-top: 15px";
            nextLine.alt = "terminal new line symbol";
            document.getElementById("line-2").appendChild(nextLine);

            const nextLine2 = document.createElement("span");
            nextLine2.className = "terminal-text-highlighted";
            nextLine2.innerHTML = "portfolio [";
            document.getElementById("line-2").appendChild(nextLine2);

            const nextLine3 = document.createElement("span");
            nextLine3.style = "color: #60fdff";
            nextLine3.innerHTML = "main";
            document.getElementById("line-2").appendChild(nextLine3);

            const nextLine4 = document.createElement("span");
            nextLine4.className = "terminal-text-highlighted";
            nextLine4.innerHTML = "]";
            document.getElementById("line-2").appendChild(nextLine4);

            const nextLine5 = document.createElement("span");
            nextLine5.innerHTML = "⚡️";
            document.getElementById("line-2").appendChild(nextLine5);

            const nextLine6 = document.createElement("input");
            nextLine6.className = inputWithCounter;
            nextLine6.id = inputWithCounter;
            nextLine6.autoComplete = "off";
            document.getElementById("line-2").appendChild(nextLine6);
            document.getElementById(inputWithCounter).focus();

            counter++;
            sessionStorage.setItem("counter", counter);

            createElements();

          });
        }
        createElements();
      </script>
    </div>
  </div>
</body>

</html>