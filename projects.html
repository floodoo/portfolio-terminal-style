<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://unpkg.com/typewriter-effect@latest/dist/core.js"></script>
    <script type="text/javascript">
      sessionStorage.setItem("counter", 0);
    </script>
    <title>Florian Schmitz</title>
  </head>

  <body>
    <!-- Navbar -->
    <div class="terminal-window">
      <div
        class="terminal-window-button"
        style="background-color: #ff5f57"
      ></div>
      <div
        class="terminal-window-button"
        style="background-color: #febc30"
      ></div>
      <div
        class="terminal-window-button"
        style="background-color: #2bc840"
      ></div>
      <div class="terminal-window-name">florianschmitz@MacBook-Pro:~</div>
    </div>
    <nav>
      <a class="nav-button" data-hotkey="Meta+1" href="index.html">
        <ul>
          <li class="nav-button-text">~</li>
          <li>⌘1</li>
        </ul>
      </a>
      <a class="nav-button" data-hotkey="Meta+2" href="about.html">
        <ul>
          <li class="nav-button-text">About</li>
          <li>⌘2</li>
        </ul>
      </a>
      <a class="nav-button-active" data-hotkey="Meta+3" href="projects.html">
        <ul>
          <li class="nav-button-text">Projects</li>
          <li>⌘3</li>
        </ul>
      </a>
      <a class="nav-button" data-hotkey="Meta+4" href="blog.html">
        <ul>
          <li class="nav-button-text">Blog</li>
          <li>⌘4</li>
        </ul>
      </a>
      <a class="nav-button" data-hotkey="Meta+5" href="contact.html">
        <ul>
          <li class="nav-button-text">Contact</li>
          <li>⌘5</li>
        </ul>
      </a>
    </nav>
    <script>
      document.addEventListener("keydown", (keyboardEvent) => {
        [...document.querySelectorAll(`[data-hotkey]`)].forEach((elem) => {
          const combineKey = elem.dataset.hotkey.split("+");

          for (let myKeyStr of combineKey) {
            myKeyStr = myKeyStr.toUpperCase();

            if (myKeyStr.length > 1) {
              if (myKeyStr === "META" && keyboardEvent.metaKey) {
                continue;
              }
            }
            if (keyboardEvent.key.toUpperCase() !== myKeyStr) {
              return;
            }
          }
          keyboardEvent.preventDefault();
          elem.click();
        });
      });
    </script>
    <!-- End of navbar -->
    <div style="padding-left: 15px">
      <div class="terminal-text" id="last-login"></div>
      <script>
        document.getElementById(
          "last-login"
        ).innerHTML = `Last login: ${new Date().toLocaleString()} on ttys000`;
      </script>
      <img
        src="assets/images/terminal-symbol.svg"
        alt="terminal new line symbol"
        style="padding-right: 4px"
      />
      <span class="terminal-text-highlighted">~ </span>
      <span class="terminal-text-highlighted">cd </span>
      <span class="terminal-text">development/portfolio</span>
      <div></div>
      <img
        src="assets/images/terminal-symbol.svg"
        alt="terminal new line symbol"
        style="padding-right: 4px; padding-top: 15px"
      />

      <span class="terminal-text-highlighted">portfolio [</span>
      <span style="color: #60fdff">main</span>
      <span class="terminal-text-highlighted">]</span>
      <span>⚡️</span>
      <span id="typewriter"></span>
      <script type="text/javascript">
        const typewriter = new Typewriter("#typewriter", {
          loop: false,
          delay: 100,
        });

        typewriter
          .typeString('<span class="terminal-text-highlighted">make </span>')
          .typeString('<span class="terminal-text">projects</span>')
          .start();

        setTimeout(function () {
          // set cursor color to transparent, because i can't delete it
          document.querySelector(".Typewriter__cursor").style.backgroundColor =
            "transparent";
          document.getElementById("line-2").style.display = "block";
        }, 2000);
      </script>
      <div id="line-2" style="display: none">
        <div style="padding-top: 15px">
          <span class="terminal-text-highlighted">portfolio </span>
          <span>⚡️</span>
          <input
            class="input-0"
            id="input-0"
            autocomplete="off"
            placeholder="help"
          />
        </div>
        <script>
          async function createElements() {
            var counter = sessionStorage.getItem("counter");
            counter = parseInt(counter);
            var inputWithCounter = `input-${counter + 1}`;

            document
              .getElementById(`input-${counter}`)
              .addEventListener("keydown", (e) => {
                if (e.key !== "Enter") {
                  return;
                }

                if (
                  document.getElementById(`input-${counter}`).value === "help"
                ) {
                  const help = document.createElement("p");
                  help.innerHTML = `<span class="terminal-text-highlighted">help</span> - shows this help message<br />`;
                  help.innerHTML += `<span class="terminal-text-highlighted">about</span> - shows information about me<br />`;
                  help.innerHTML += `<span class="terminal-text-highlighted">projects</span> - shows my projects<br />`;
                  help.innerHTML += `<span class="terminal-text-highlighted">blog</span> - shows my blog<br />`;
                  help.innerHTML += `<span class="terminal-text-highlighted">contact</span> - shows my contact informations<br />`;
                  help.innerHTML += `<span class="terminal-text-highlighted">clear</span> - clears the terminal (soon)<br />`;
                  help.innerHTML += `<span class="terminal-text-highlighted">exit</span> - exits the terminal (soon)<br /><br />`;
                  help.innerHTML += `<span class="terminal-text-highlighted">ls </span> - lists files and folder in current directory<br />`;
                  help.innerHTML += `<span class="terminal-text-highlighted">github <project></span> - opens github repository`;
                  help.className = "terminal-text";
                  document.getElementById("line-2").appendChild(help);
                  makeBr = false;
                } else if (
                  document.getElementById(`input-${counter}`).value === "about"
                ) {
                  const about = document.createElement("p");
                  about.innerHTML = `<span style="color:orange">Warning: </span>An instance of about is already running. You will be redirected...`;
                  about.className = "terminal-text";
                  document.getElementById("line-2").appendChild(about);
                  about.innerHTML += `<br /><span style="color:red">Error: </span>An error has occurred. You have to restart it with our <span class="terminal-text-highlighted">make</span> command.`;

                  setTimeout(function () {
                    window.location.href = "about.html";
                  }, 5000);
                } else if (
                  document.getElementById(`input-${counter}`).value ===
                  "projects"
                ) {
                  const projects = document.createElement("p");
                  projects.innerHTML = `<span style="color:orange">Warning: </span>An instance of projects is already running. You will be redirected...`;
                  projects.className = "terminal-text";
                  document.getElementById("line-2").appendChild(projects);
                  projects.innerHTML += `<br /><span style="color:red">Error: </span>An error has occurred. You have to restart it with our <span class="terminal-text-highlighted">make</span> command.`;

                  setTimeout(function () {
                    window.location.href = "projects.html";
                  }, 5000);
                } else if (
                  document.getElementById(`input-${counter}`).value === "blog"
                ) {
                  const blog = document.createElement("p");
                  blog.innerHTML = `<span style="color:orange">Warning: </span>An instance of blog is already running. You will be redirected...`;
                  blog.className = "terminal-text";
                  document.getElementById("line-2").appendChild(blog);
                  blog.innerHTML += `<br /><span style="color:red">Error: </span>An error has occurred. You have to restart it with our <span class="terminal-text-highlighted">make</span> command.`;

                  setTimeout(function () {
                    window.location.href = "blog.html";
                  }, 5000);
                } else if (
                  document.getElementById(`input-${counter}`).value ===
                  "contact"
                ) {
                  const contact = document.createElement("p");
                  contact.innerHTML = `<span style="color:orange">Warning: </span>An instance of contact is already running. You will be redirected...`;
                  contact.className = "terminal-text";
                  document.getElementById("line-2").appendChild(contact);
                  contact.innerHTML += `<br /><span style="color:red">Error: </span>An error has occurred. You have to restart it with our <span class="terminal-text-highlighted">make</span> command.`;

                  setTimeout(function () {
                    window.location.href = "contact.html";
                  }, 5000);
                }  else if (
                  document.getElementById(`input-${counter}`).value ===
                  "ls"
                ) {
                  const projects = document.createElement("table");
                  
                  projects.innerHTML = `<tr><td>gas3</td><td>Joy-it-Grab-it-robot02-backend</td><td>Joy-it-Grab-it-robot02-frontend</td></tr>`;
                  projects.innerHTML += `<tr><td>missionchief credit farm bot (german game version)</td><td>Personal portfolio</td><td>SOL-Connect</td></tr>`;
                  
                  projects.style.width = "100%";
                  projects.style.color = "#60fdff";
                  document.getElementById("line-2").appendChild(projects);
                }  else if (
                  document.getElementById(`input-${counter}`).value.split(" ")[0] ===
                  "github"
                ) {
                  var projectString = document.getElementById(`input-${counter}`).value.split(" ")[1];
                  
                  if (projectString === undefined) {
                    const github = document.createElement("p");
                    github.innerHTML = `<span style="color:red">Error: </span>You have to specify a project.`;
                    github.className = "terminal-text";
                    document.getElementById("line-2").appendChild(github);
                  } else
                  
                  if (projectString === "missionchief") {
                    window.open(`https://github.com/floodoo/Leitstellenspiel_Bot`, '_blank').focus();
                    document.getElementById("line-2").appendChild(document.createElement("br"));
                  } else

                  if (projectString === "personal") {
                    window.open(`https://github.com/floodoo/portfolio-terminal-style`, '_blank').focus();
                    document.getElementById("line-2").appendChild(document.createElement("br"));
                  } else {

                    window.open(`https://github.com/floodoo/${projectString.toLowerCase()}`, '_blank').focus();
                    document.getElementById("line-2").appendChild(document.createElement("br"));
                  }

                  
                } else {
                  const notFound = document.createElement("div");
                  notFound.innerHTML = `<span class="terminal-text-highlighted">${
                    document.getElementById(`input-${counter}`).value
                  }</span> - command not found`;
                  notFound.className = "terminal-text";
                  document.getElementById("line-2").appendChild(notFound);
                }

                const input = (document.getElementById(
                  `input-${counter}`
                ).disabled = true);

                const nextLine2 = document.createElement("span");
                nextLine2.className = "terminal-text-highlighted";
                nextLine2.innerHTML = "portfolio ";
                document.getElementById("line-2").appendChild(nextLine2);

                const nextLine3 = document.createElement("span");
                nextLine3.innerHTML = "⚡️";
                document.getElementById("line-2").appendChild(nextLine3);

                const nextLine4 = document.createElement("input");
                nextLine4.className = inputWithCounter;
                nextLine4.id = inputWithCounter;
                nextLine4.autoComplete = "off";
                document.getElementById("line-2").appendChild(nextLine4);
                document.getElementById(inputWithCounter).focus();

                counter++;
                sessionStorage.setItem("counter", counter);

                createElements();
              });
          }
          createElements();
        </script>
      </div>
    </div>
    </div>
  </body>
</html>
